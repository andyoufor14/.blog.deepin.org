---
title: "OS全都队-pro225"
date: 2024-05-28T11:00:49+08:00
draft: true
authors: ["OS全都队"]
tags: ["计算机系统能力大赛","文档问答机器人","Deepin"]
---

# 基于大语言模型的Deepin文档问答系统

## 概要

本作品为2024年全国大学生计算机系统能力大赛--操作系统设计赛（全国）——OS功能挑战赛道中project225“文档问答机器人”的命题作品。基于大语言模型，团队开发了一个智能文档问答机器人，其能够在特定场景的中文语料库中实现文档的理解、分类、检索，进而实现基于文档的问答。

本项目开发的文档问答机器人采用大语言模型检索增强生成（Retrieval Augmented Generation, RAG）技术，强化大语言模型对于文档的检索能力，提升问答准确性。同时应用了LangChain框架，增强对不同大语言模型的兼容性。

## 作品技术流程简介
### 本作品的技术路线框架简要设计流程如下：

收集到Deepin系统文档数据后，对文本文档进行预处理和分块，并调用大模型生成关键词。Deepin Wiki在文本中内嵌图片链接，用于解释文本内容。为了增加对这部分图片的语义理解，在扫描文本文档时一旦遇到图片链接，则加载对应图片一并提交大模型以识别关键词，加强关键词的准确性。将关键词转化为词向量，与索引信息一并存储在数据库中。根据用户输入的问题进行实体链接，寻找到相关文档块。将相关文档块内容与用户问题一并构建提示语段，遇到图片链接则加载对应图片，共同输入大语言模型，进而获取输出回答。基于上述步骤搭建文档问答机器人系统后，在云端服务器部署，用户能直接在Deepin操作系统中使用浏览器，通过公网访问问答机器人并向其提问。

## 作品实现和创新
### 针对命题要求，本作品进行了如下实现：
1.  完成Deepin文档问答机器人（必须）。我们开发了一个基于大模型的智能文档问答助手，目前已经能实现Deepin内容文档的理解和基于文档的问答。
2.  训练模型使回答和问题有80%以上概率的相关性（必须）。在本地部署了经过训练的大语言模型，针对Deepin系统的数据和语境进行训练，能够更好地理解和生成与Deepin系统相关的回答。我们选取了九百多份文档中的一份在Deepin系统中进行测试，目前团队构建的文档问答助手在文档检索时能够有80%以上的召回率，在答案生成时有90%以上的准确性。
3.  编写博客记录开发过程并投递（必须）。我们遵循Deepin文档中博客上传手册的相关要求，利用HUGO创建了团队的开发博客文件，目前已申请合并上传博客。
4. 支持回答玲珑使用的问题（选择）。团队已尝试通过爬虫爬取玲珑使用手册的网页内容，在后续可以批量爬取实现文档问答机器人的内容扩展。
5. 添加可视化界面能在Deepin系统上使用（选择）。团队搭建了简约的前端界面，前后端均部署于华为云弹性云服务器ECS并绑定了公网IP，可以在Deepin系统中通过浏览器访问问答机器人并向其提问。

### 本作品进行了如下创新：
1.  支持多种文件类型。在传统RAG架构的文本文档基础上，新增了对与文本文档关联的图片文件的支持，丰富了知识库中的文件种类和数量。
2.  轻量化数据库存储。相较于LangChain框架在数据库中存储文档内容，采用MongoDB数据库存储文档块索引的方式，加快检索效率。
3. 文档块索引优化。在文档块之间引入一定量的重叠，增加上下文信息。相比检索后再延伸上下界的做法，在创建记录索引时便延伸上下界能够获得更加准确的关键词信息，增加检索时的精度和召回率。
4. 多模态交互支持。除了传统的文本问答方式，我们还支持用户通过语音等多模态形式进行交互。用户可以通过语音输入问题来获取解答，使用户体验更加便捷高效。

## 开发与心得
### 团队的系统性开发主要分为四个部分：
1. 大模型构建与优化。基于最新的深度学习技术构建和优化了文档问答系统的大模型，对于提升系统的文本理解和回答准确性至关重要。
2. Deepin内容整合。整合Deepin wiki或其他相关文档资源，为大模型提供丰富的训练数据和知识库，确保数据的准确性和多样性，以满足不同查询场景的需求。
3. 文档问答网页端实现。基于大模型和Deepin内容，实现了文档问答系统网页端的各项功能，不断优化系统性能，提升用户体验。
4. 测试与评估。对系统进行测试和评估工作，确保系统的稳定性和准确性，通过自动化测试和人工测试相结合的方式，对系统进行全面的验证。

我们团队通过定期的线下项目会议、在线协作平台等方式，确保信息的及时传递和共享，紧密配合共同推进项目的进展。

### 本次比赛开发心得
比赛不仅让我们在技术上取得了显著的进步，更让我们在团队协作和行业应用方面获得了宝贵的经验，为我们未来的学习和工作提供有力的支持。

1. 通过比赛，我们深刻认识到大模型在文档问答系统中的关键作用。大模型能够通过对海量数据的学习，提升对文本的理解和生成能力，从而提高问答系统的准确性和效率。Deepin wiki等文档资源为文档问答系统提供了丰富的知识库，从而提升系统的性能。 
2. 在比赛过程中，我们遇到了许多技术挑战，如模型训练的效率、数据处理的准确性等。通过不断地尝试和实践，我们找到了相应的解决方案，并不断优化系统性能。比赛让我们更加深刻地认识到团队协作的重要性。只有团队成员之间紧密配合、相互支持，才能克服各种困难，取得成绩。
3. 通过本次比赛，我们看到了文档问答系统在各行业中的广泛应用前景，并将在未来更多的领域进行实践与运用。